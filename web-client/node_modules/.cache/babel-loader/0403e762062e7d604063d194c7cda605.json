{"ast":null,"code":"var _jsxFileName = \"/home/martin/ChatApp/chat-web-client-react/src/views/chat/Chat.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport useSocket from 'hooks/useSocket';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport PeopleList from './components/people-list/PeopleList';\nimport ChatToolbar from './components/chat-toolbar/ChatToolbar';\nimport ChatText from './components/chat-text/ChatText';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport Hidden from '@material-ui/core/Hidden';\nconst styles = createStyles({\n  root: {\n    margin: '16px',\n    height: 'calc(100vh - 32px)'\n  },\n  paper: {\n    height: '100%'\n  },\n  gridContainer: {\n    height: 'inherit'\n  },\n  gridItem: {\n    height: '100%'\n  },\n  '@global': {\n    'body': {\n      fontFamily: '\"Roboto\"'\n    }\n  }\n});\n\nconst ChatRoom = props => {\n  const socket = useSocket('http://127.0.0.1:3000');\n  const {\n    classes\n  } = props;\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const handleUpdateUsers = users => {\n      setUsers([...users]);\n    };\n\n    if (socket) {\n      socket.on('UPDATE_USERS', handleUpdateUsers);\n    }\n  }, [socket, users]);\n  useEffect(() => {\n    if (socket) {\n      socket.emit('ADD_USER', 'AnonimoCliente');\n    }\n  }, [socket]);\n\n  const addMessage = text => {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    elevation: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    className: classes.gridContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    mdDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 2,\n    className: classes.gridItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(PeopleList, {\n    users: users,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 10,\n    className: classes.gridItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ChatToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(ChatText, {\n    messages: messages,\n    handleSendButton: addMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 8\n    }\n  })))));\n};\n\nexport default withStyles(styles)(ChatRoom);","map":{"version":3,"sources":["/home/martin/ChatApp/chat-web-client-react/src/views/chat/Chat.tsx"],"names":["React","useState","useEffect","useSocket","Paper","Grid","PeopleList","ChatToolbar","ChatText","withStyles","createStyles","Hidden","styles","root","margin","height","paper","gridContainer","gridItem","fontFamily","ChatRoom","props","socket","classes","messages","setMessages","users","setUsers","handleUpdateUsers","on","emit","addMessage","text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport useSocket from 'hooks/useSocket'\nimport Paper from '@material-ui/core/Paper'\nimport Grid from '@material-ui/core/Grid'\nimport PeopleList from './components/people-list/PeopleList'\nimport ChatToolbar from './components/chat-toolbar/ChatToolbar'\nimport ChatText from './components/chat-text/ChatText'\nimport { withStyles, createStyles } from '@material-ui/core/styles'\nimport Hidden from '@material-ui/core/Hidden'\n\nconst styles = createStyles({\n\troot: {\n\t\tmargin: '16px',\n\t\theight: 'calc(100vh - 32px)'\n\t},\n\tpaper: {\n\t\theight: '100%'\n\t},\n\tgridContainer: {\n\t\theight: 'inherit'\n\t},\n\tgridItem: {\n\t\theight: '100%'\n\t},\n\t'@global': {\n\t\t'body': {\n\t\t\tfontFamily: '\"Roboto\"'\n\t\t}\n\t}\n})\n\ninterface IProps {\n    classes: {\n        root: string\n        paper: string\n        gridContainer: string\n        gridItem: string\n        '@global': string\n    }\n    addMessage?: Function\n}\n\nconst ChatRoom: React.FC<IProps> = props => {\n        const socket: any = useSocket('http://127.0.0.1:3000')\n\n        const { classes } = props\n        \n        const [messages, setMessages] = useState([]);\n        const [users, setUsers] = useState<Array<any>>([]);\n\n        useEffect(() => {\n            const handleUpdateUsers = (users: any) => {\n                setUsers([...users])\n            }\n\n            if (socket) {\n                socket.on('UPDATE_USERS', handleUpdateUsers)\n            }\n        }, [socket, users])\n\n        useEffect(() => {\n            if (socket) {\n                socket.emit('ADD_USER', 'AnonimoCliente')\n            }\n        }, [socket])\n\n        const addMessage = text => {\n\n        }\n    \n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t    <Paper className={classes.paper} elevation={2}>\n\t\t\t\t\t<Grid container spacing={0} className={classes.gridContainer}>\n\t\t\t\t\t\t<Hidden mdDown>\n\t\t\t\t\t\t\t<Grid item md={2} className={classes.gridItem}>\n\t\t\t\t\t\t\t\t<PeopleList users={users} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Hidden>\n\t\t\t\t\t\t<Grid item xs={12} md={10} className={classes.gridItem}>\n\t\t\t\t\t\t\t<ChatToolbar />\n\t\t\t\t\t\t\t<ChatText messages={messages} handleSendButton={addMessage} />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t)\n}\n\nexport default withStyles(styles)(ChatRoom)\n"]},"metadata":{},"sourceType":"module"}