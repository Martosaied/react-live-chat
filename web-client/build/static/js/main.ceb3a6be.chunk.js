(this["webpackJsonpchat-web-client-react"]=this["webpackJsonpchat-web-client-react"]||[]).push([[0],{100:function(e,a,t){e.exports=t(145)},105:function(e,a,t){},136:function(e,a){},144:function(e,a,t){},145:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),l=t.n(c),o=(t(105),t(199)),s=t(61),i=t(16),m=t(85),u=t.n(m),d=function(e){var a=Object(n.useState)(null),t=Object(i.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){var a=u()(e);return c(a),function(){return a.disconnect}}),[e]),r},p=t(193),h=t(198),E=t(206),f=t(184),b=t(188),g=t(189),v=t(205),x=t(190),w=t(5),j=Object(E.a)({list:{overflowY:"scroll",height:"100%",width:"-webkit-fill-available","&::-webkit-scrollbar":{width:"5px",height:"8px",backgroundColor:"#FFF"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#025279"}},avatar:{marginRight:"10px"},title:{},root:{display:"flex",flexDirection:"column",alignItems:"center"}}),O=function(e){var a=e.classes,t=e.users;return r.a.createElement("div",{className:a.root},r.a.createElement("h3",{className:a.title},"Active Users (".concat(t.length,")")),r.a.createElement(f.a,null),r.a.createElement(b.a,{className:a.list},t.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(g.a,{dense:!0,button:!0},r.a.createElement(v.a,{alt:"Remy Sharp",src:e.avatar,className:a.avatar}),r.a.createElement(x.a,{primary:e.username})),r.a.createElement(f.a,null))}))))};O.defaultProps={classes:{},users:[]};var S=Object(w.a)(j)(O),N=t(191),F=t(40),I=t(192),k=t(89),y=t.n(k),C=Object(E.a)({chatToolbarRoot:{color:"#FFF",margin:"8px",minHeight:"32px",backgroundColor:"#0377ad",borderRadius:"2px"},innerContent:{width:"100%"},chatTitle:{margin:"0 auto"},searchWrapper:{backgroundColor:"#025279",borderRadius:"3px",border:"solid 1px #025279",color:"#FFF",margin:"5px"},searchInput:{width:"180px",paddingLeft:"8px",transition:"width 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&::placeholder":{color:"#FFF",opacity:1},"&:focus":{width:"300px"}},searchIcon:{color:"#FFF",marginTop:"3px"}}),R=Object(w.a)(C)((function(e){var a=e.classes;return r.a.createElement(N.a,{disableGutters:!0,className:a.chatToolbarRoot},r.a.createElement(F.a,{className:a.chatTitle,color:"inherit"},'Now talking in "Wonderful Chatroom"'),r.a.createElement(I.a,{classes:{root:a.searchWrapper,input:a.searchInput},disableUnderline:!0,placeholder:"Search",endAdornment:r.a.createElement(y.a,{className:a.searchIcon})}))})),D=t(204),P=t(194),T=t(90),U=t.n(T),A=Object(E.a)({composeInputPaper:{display:"flex",marginTop:"16px"},composeInput:{padding:"16px"},sendIcon:{color:"#2196f3"}}),B=function(e){var a=e.classes,t=Object(n.useState)(""),c=Object(i.a)(t,2),l=c[0],o=c[1],s=function(){o(""),e.handleSendButton(l)},m=function(e){13===e.keyCode&&(e.preventDefault(),s())};return Object(n.useEffect)((function(){return window.addEventListener("keydown",m),function(){window.removeEventListener("keydown",m)}})),r.a.createElement(p.a,{className:a.composeInputPaper,elevation:4},r.a.createElement(I.a,{classes:{root:a.composeInput},multiline:!0,value:l,fullWidth:!0,disableUnderline:!0,placeholder:"Send a message!",onChange:function(e){return o(e.target.value)}}),r.a.createElement(P.a,{variant:"contained",color:"primary",onClick:s,endIcon:r.a.createElement(U.a,{className:a.searchIcon})},"Send"))};B.defaultProps={classes:{}};var W=Object(w.a)(A)(B),L=Object(E.a)({root:{margin:"8px",height:"calc(100% - 80px)"},chatInputPaper:{height:"calc(100% - 64px)"},chatInput:{overflowY:"scroll",height:"100%",padding:"16px"},chatRoomMessage:{display:"flex",marginBottom:"8px"},username:{fontSize:"10px",marginBottom:"0px",marginTop:"0px",marginLeft:"5px"},text:{marginLeft:"5px"}}),M=function(e){var a=e.messages,t=e.classes;return r.a.createElement("section",{className:t.root},r.a.createElement(p.a,{className:t.chatInputPaper,elevation:4},r.a.createElement("div",{className:t.chatInput},a.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement("div",{className:t.chatRoomMessage},r.a.createElement(v.a,{alt:e.user.username,src:e.user.avatar}),r.a.createElement("div",{className:t.text},r.a.createElement("p",{className:t.username},r.a.createElement("strong",null,e.user.username)),r.a.createElement(D.a,{label:e.text}))))})))),r.a.createElement(W,{handleSendButton:e.handleSendButton}))};M.defaultProps={classes:{},messages:[]};var _=Object(w.a)(L)(M),G=t(202),z=t(200),J=t(203),Y=t(197),H=t(196),$=t(195);function q(e){var a=Object(n.useState)(!0),t=Object(i.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),m=s[0],u=s[1];return r.a.createElement("div",null,r.a.createElement(J.a,{open:c,"aria-labelledby":"form-dialog-title"},r.a.createElement($.a,{id:"form-dialog-title"},"Set Username"),r.a.createElement(H.a,null,r.a.createElement(z.a,{onChange:function(e){u(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"Username",type:"text",fullWidth:!0})),r.a.createElement(Y.a,null,r.a.createElement(P.a,{onClick:function(){e.onSubmit(m),l(!1)},color:"primary"},"Enter"))))}var K=Object(E.a)({root:{margin:"16px",height:"calc(100vh - 32px)"},paper:{height:"100%"},gridContainer:{height:"inherit"},gridItem:{height:"100%"},"@global":{body:{fontFamily:'"Roboto"'}}}),Q=Object(w.a)(K)((function(e){var a=d("http://127.0.0.1:3000"),t=e.classes,c=Object(n.useState)([]),l=Object(i.a)(c,2),o=l[0],m=l[1],u=Object(n.useState)([]),E=Object(i.a)(u,2),f=E[0],b=E[1];Object(n.useEffect)((function(){a&&a.on("UPDATE_USERS",(function(e){b(Object(s.a)(e))}))}),[a,f]),Object(n.useEffect)((function(){a&&a.on("UPDATE_MESSAGES",(function(e){m((function(a){return[].concat(Object(s.a)(a),[e])}))}))}),[a]);return r.a.createElement("div",{className:t.root},r.a.createElement(q,{onSubmit:function(e){a.emit("ADD_USER",e)}}),r.a.createElement(p.a,{className:t.paper,elevation:2},r.a.createElement(h.a,{container:!0,spacing:0,className:t.gridContainer},r.a.createElement(G.a,{mdDown:!0},r.a.createElement(h.a,{item:!0,md:2,className:t.gridItem},r.a.createElement(S,{users:f}))),r.a.createElement(h.a,{item:!0,xs:12,md:10,className:t.gridItem},r.a.createElement(R,null),r.a.createElement(_,{messages:o,handleSendButton:function(e){a.emit("ADD_MESSAGE",e)}})))))})),V=(t(143),t(144),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null),r.a.createElement(Q,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.ceb3a6be.chunk.js.map